---

- name: "Chart verifier tests"
  include_role:
    name: chart-verifier
  when:
    - do_chart_verifier|bool

- name: "cnf-cert tests"
  include_role:
    name: cnf-cert
  vars:
    tnf_image_suffix: "{{ job_id }}"
  when: do_cnf_cert|bool

- name: Preflight container-only tests
  include_role:
    name: preflight
    tasks_from: main_standalone_containers_certification
  when: preflight_containers_to_certify is defined

- name: Preflight tests
  include_role:
    name: preflight
  when: preflight_operators_to_certify is defined

- name: Operator-SDK Scorecard tests
  vars:
    scorecard_oc_tool_path: "{{ oc_tool_path }}"
    scorecard_partner_creds: "{{ partner_creds }}"
    scorecard_kubeconfig_path: "{{ kubeconfig_path }}"
    scorecard_pullsecret_tmp_file: "{{ pullsecret_tmp_file }}"
    scorecard_job_logs: "{{ job_logs }}"
    scorecard_dci_local_registry: "{{ dci_local_registry }}"
    scorecard_dci_disconnected: "{{ dci_disconnected }}"
  include_role:
    name: operator-sdk
  when: scorecard_operators is defined

- name: CNF Project Creation-Only tests for Vendor Validation
  include_role:
    name: openshift-cnf
  vars:
    project_type: "openshift_cnf"
  when: cnf_to_certify is defined

- name: Helm Chart Certification Project
  include_role:
    name: create-helmchart
  vars:
    project_type: "helmchart"
  when: helmchart_to_certify is defined
...